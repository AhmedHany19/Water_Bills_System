@model IEnumerable<Subscriber>
@{
    ViewData["Title"] = "Subscribers";
}

<!-- Main content -->
<section class="content-wrapper">


     @if (Model==null)
    {
        <div class="text-center mt-5">
        <h3 class="text-warning">@ViewData["Message"]</h3>
        <a href="/subscribers/subscribers" class="btn btn-primary"> الرجوع لقائمة المشتركين</a>
        </div>

    }
    else
    {
        <div class=" mt-3 ">
            <h2> المشتركين</h2>

            <a class="btn btn-primary mt-3 mb-2 " asp-action="Create">اضافة مشترك جديد</a>
            @*<form asp-action="Search" asp-controller="subscribers" method="get" class="mt-5">
                <div class="input-group md-form form-sm form-1 pl-0">
                    <div class="input-group-prepend">
                        <span class="input-group-text purple lighten-3" id="basic-text1">
                            <i class="fas fa-search text-black"
                           aria-hidden="true"></i>
                        </span>
                    </div>
                    <input class="form-control my-0 py-1" name="id" id="id" type="text" placeholder="ابحث كود هواية المشترك" aria-label="Search">
                </div>
            </form>*@
        </div>
        <h4 class="text-warning">@ViewData["Message"]</h4>
        <div>
            <table id="SubscribersTable" class="table text-black text-center table-bordered table-hover">
                <thead>
                    <tr>
                        <th>رقم الهوية</th>
                        <th>الاسم</th>
                        <th>المدينة</th>
                        <th>الحي</th>
                        <th>رقم الجوال</th>
                        <th>عدد الاشتراكات</th>
                        <th>عدد الفواتير</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.Id</td>
                            <td>@item.Name</td>
                            <td>@item.City</td>
                            <td>@item.Area</td>
                            <td>@item.Mobile+</td>
                            <td>@item.Subscriptions.Count()</td>
                            <td>@item.Invoices.Count()</td>
                            <td>
                                <partial name="_ButtonPartial" model="@item.Id" />
                            </td>
                        </tr>
                    }
                </tbody>
            </table>

        </div>
    }
    



</section>
@section Scripts{
    <script type="text/javascript" src="~/modules/DataTable.js">
        
    </script>


}